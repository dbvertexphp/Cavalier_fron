<div class="max-w-4xl mx-auto mt-10 bg-white shadow-lg rounded-lg p-6">

  <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
    Edit Attendance
  </h2>

  <!-- ================= EMPLOYEE DETAILS ================= -->
  <div class="grid grid-cols-2 gap-4 mb-6">

    <div>
      <label class="block mb-1 font-semibold text-gray-700">Emp ID</label>
      <input
        type="text"
        [value]="attendance.empId"
        readonly
        class="w-full px-4 py-2 border rounded bg-gray-100"
      />
    </div>

    <div class="flex justify-center items-center">
      <img
        [src]="attendance.profile"
        class="w-20 h-20 rounded-full border shadow"
        alt="Profile"
      />
    </div>

    <div>
      <label class="block mb-1 font-semibold text-gray-700">Name</label>
      <input
        type="text"
        [value]="attendance.name"
        readonly
        class="w-full px-4 py-2 border rounded bg-gray-100"
      />
    </div>

    <div>
      <label class="block mb-1 font-semibold text-gray-700">Department</label>
      <input
        type="text"
        [value]="attendance.department"
        readonly
        class="w-full px-4 py-2 border rounded bg-gray-100"
      />
    </div>

    <div>
      <label class="block mb-1 font-semibold text-gray-700">Designation</label>
      <input
        type="text"
        [value]="attendance.designation"
        readonly
        class="w-full px-4 py-2 border rounded bg-gray-100"
      />
    </div>

  </div>

  <!-- ================= ATTENDANCE FORM ================= -->
  <form #attendanceForm="ngForm" (ngSubmit)="updateAttendance()" class="space-y-4">

    <!-- Date -->
    <div>
      <label class="block mb-1 font-semibold text-gray-700">Date</label>
      <input
        type="date"
        name="date"
        [(ngModel)]="attendance.date"
        required
        class="w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:border-yellow-400"
      />
    </div>

    <!-- Check In / Check Out -->
    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block mb-1 font-semibold text-gray-700">Check In</label>
        <input
          type="time"
          name="checkIn"
          [(ngModel)]="attendance.checkIn"
          required
          class="w-full px-4 py-2 border rounded"
        />
      </div>

      <div>
        <label class="block mb-1 font-semibold text-gray-700">Check Out</label>
        <input
          type="time"
          name="checkOut"
          [(ngModel)]="attendance.checkOut"
          required
          class="w-full px-4 py-2 border rounded"
        />
      </div>
    </div>

    <!-- Working Hours -->
    <div>
      <label class="block mb-1 font-semibold text-gray-700">Working Hours</label>
      <input
        type="number"
        name="workingHours"
        [(ngModel)]="attendance.workingHours"
        step="0.1"
        class="w-full px-4 py-2 border rounded"
      />
    </div>

    <!-- Status / Late / Half Day / Overtime / Mode -->
    <div class="grid grid-cols-3 gap-4">

      <div>
        <label class="block mb-1 font-semibold text-gray-700">Status</label>
        <select
          name="status"
          [(ngModel)]="attendance.status"
          required
          class="w-full px-4 py-2 border rounded"
        >
          <option value="Present">Present</option>
          <option value="Half Day">Half Day</option>
          <option value="Absent">Absent</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 font-semibold text-gray-700">Late</label>
        <select
          name="late"
          [(ngModel)]="attendance.late"
          required
          class="w-full px-4 py-2 border rounded"
        >
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 font-semibold text-gray-700">Half Day</label>
        <select
          name="halfDay"
          [(ngModel)]="attendance.halfDay"
          required
          class="w-full px-4 py-2 border rounded"
        >
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 font-semibold text-gray-700">Overtime (hrs)</label>
        <input
          type="number"
          name="overtime"
          [(ngModel)]="attendance.overtime"
          step="0.1"
          class="w-full px-4 py-2 border rounded"
        />
      </div>

      <div>
        <label class="block mb-1 font-semibold text-gray-700">Mode</label>
        <select
          name="mode"
          [(ngModel)]="attendance.mode"
          required
          class="w-full px-4 py-2 border rounded"
        >
          <option value="manual">Manual</option>
          <option value="gps">GPS</option>
        </select>
      </div>
    </div>

    <!-- Remark -->
    <div>
      <label class="block mb-1 font-semibold text-gray-700">Remark</label>
      <textarea
        name="remark"
        [(ngModel)]="attendance.remark"
        class="w-full px-4 py-2 border rounded"
      ></textarea>
    </div>

    <!-- Submit -->
    <div class="text-center mt-6">
      <button
        type="submit"
        [disabled]="!attendanceForm.valid"
        class="px-6 py-2 bg-yellow-500 text-white font-semibold rounded-lg shadow hover:bg-yellow-600 transition"
      >
        Update Attendance
      </button>
    </div>

  </form>

</div>
