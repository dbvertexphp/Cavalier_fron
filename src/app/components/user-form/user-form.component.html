<!--<div class="max-w-6xl mx-auto p-6 bg-white rounded-xl shadow-lg border border-gray-100 overflow-y-auto max-h-[85vh]">
  <h2 class="text-2xl font-bold text-blue-700 mb-6 border-b pb-4">
    {{ isBranchForm ? 'Cavalier Branch Registration' : 'Cavalier User Registration' }}
  </h2>
  
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-6 text-sm">
    
    <div *ngIf="isBranchForm" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded">
        <div><label class="font-bold">Company Name*</label> <input formControlName="companyName" class="w-full border p-2 rounded"></div>
        <div><label>Company Alias</label> <input formControlName="companyAlias" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div><label class="font-bold">Branch Name*</label> <input formControlName="branchName" class="w-full border p-2 rounded"></div>
        <div><label class="font-bold">Branch Code*</label> <input formControlName="branchCode" class="w-full border p-2 rounded uppercase"></div>
        <div><label class="font-bold">Email*</label> <input formControlName="email" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div><label>City*</label> <input formControlName="city" class="w-full border p-2 rounded"></div>
        <div><label>State*</label> <input formControlName="state" class="w-full border p-2 rounded"></div>
        <div><label>Postal Code*</label> <input formControlName="postalCode" class="w-full border p-2 rounded"></div>
        <div><label>Contact No*</label> <input formControlName="contactNo" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-blue-50/30 p-4 rounded">
        <div><label class="font-bold">GST Category*</label> 
          <select formControlName="gstCategory" class="w-full border p-2 rounded">
            <option value="Regular">Regular</option>
            <option value="Composition">Composition</option>
          </select>
        </div>
        <div><label class="font-bold">GSTIN*</label> <input formControlName="gstin" class="w-full border p-2 rounded uppercase"></div>
      </div>

      <div><label>Full Address*</label> <textarea formControlName="address" class="w-full border p-2 rounded h-16"></textarea></div>
    </div>

    <div *ngIf="!isBranchForm" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 p-4 rounded">
        <div><label class="font-bold">Emp Code*</label> <input formControlName="empCode" class="w-full border p-2 rounded"></div>
        <div><label class="font-bold">First Name*</label> <input formControlName="firstName" class="w-full border p-2 rounded"></div>
        <div><label>Middle Name</label> <input formControlName="middleName" class="w-full border p-2 rounded"></div>
        <div><label class="font-bold">Last Name*</label> <input formControlName="lastName" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div><label>DOB*</label> <input type="date" formControlName="dob" class="w-full border p-2 rounded"></div>
        <div><label>Date of Joining</label> <input type="date" formControlName="dateOfJoining" class="w-full border p-2 rounded"></div>
        <div><label>Gender</label>
          <select formControlName="gender" class="w-full border p-2 rounded">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div><label>Country</label> <input formControlName="country" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-blue-50/10 p-4 rounded border border-blue-100">
        <div><label>Department</label> <input formControlName="department" class="w-full border p-2 rounded"></div>
        <div><label>Designation</label> <input formControlName="designation" class="w-full border p-2 rounded"></div>
        <div><label>Functional Area</label> <input formControlName="functionalArea" class="w-full border p-2 rounded"></div>
        <div><label>User Type</label> <input formControlName="userType" class="w-full border p-2 rounded"></div>
        <div><label>Role ID</label> <input type="number" formControlName="roleId" class="w-full border p-2 rounded"></div>
        <div><label>Licence Type</label> <input formControlName="licenceType" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div><label>Email (Username)*</label> <input formControlName="email" class="w-full border p-2 rounded"></div>
        <div><label>Mobile*</label> <input formControlName="mobile" class="w-full border p-2 rounded"></div>
        <div><label>Telephone</label> <input formControlName="telephone" class="w-full border p-2 rounded"></div>
        <div><label>Monthly CTC</label> <input type="number" formControlName="ctc_Monthly" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-blue-50/30 p-4 rounded">
        <div><label class="font-bold">PAN No*</label> <input formControlName="paN_No" class="w-full border p-2 rounded uppercase"></div>
        <div><label class="font-bold">Aadhaar No*</label> <input formControlName="aadhaarNo" class="w-full border p-2 rounded"></div>
        <div><label>IP Address</label> <input formControlName="ipAdress" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div><label>Present Address</label> <textarea formControlName="presentAddress" class="w-full border p-2 rounded h-16"></textarea></div>
        <div><label>Permanent Address</label> <textarea formControlName="permanentAddress" class="w-full border p-2 rounded h-16"></textarea></div>
      </div>

      <div class="border-t pt-4">
        <h3 class="font-bold text-gray-600 mb-2 underline">Education & Profile Media</h3>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
          <input formControlName="tenthYear" placeholder="10th Year" class="border p-2 rounded">
          <input formControlName="twelfthYear" placeholder="12th Year" class="border p-2 rounded">
          <input formControlName="graduationYear" placeholder="Graduation Year" class="border p-2 rounded">
          <input formControlName="postGraduationYear" placeholder="PG Year" class="border p-2 rounded">
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div><label>Profile Picture Path</label> <input formControlName="profilePicture" class="w-full border p-2 rounded" placeholder="path/to/photo.jpg"></div>
          <div><label>Signature Path</label> <input formControlName="signature" class="w-full border p-2 rounded" placeholder="path/to/sign.png"></div>
          <div><label>Profile Select</label> <input formControlName="profileSelect" class="w-full border p-2 rounded"></div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 border-t pt-4">
        <div><label>Report To (ID)</label> <input type="number" formControlName="reportTo" class="w-full border p-2 rounded"></div>
        <div><label>Emergency Contact Name</label> <input formControlName="emergencyName" class="w-full border p-2 rounded"></div>
        <div><label>Emergency Mobile</label> <input formControlName="emergencyContactNo" class="w-full border p-2 rounded"></div>
      </div>

      <div class="bg-gray-50 p-4 rounded border border-gray-200">
        <h3 class="font-bold text-gray-600 mb-3">System Permissions & Status</h3>
        <div class="flex flex-wrap gap-6">
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="mfaRegistration" class="w-4 h-4"> MFA Registration</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="fieldVisit" class="w-4 h-4"> Field Visit Allowed</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="alwaysBccmyself" class="w-4 h-4"> Always BCC Myself</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="invitationLetter" class="w-4 h-4"> Invitation Letter</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="simIssued" class="w-4 h-4"> SIM Issued</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="status" class="w-4 h-4 text-green-600"> Active Status</label>
        </div>
      </div>
    </div>

    <div class="flex justify-end gap-3 pt-6 border-t">
      <button type="button" (click)="onCancel()" class="px-6 py-2 border rounded hover:bg-gray-100 transition">Cancel</button>
      <button type="submit" [disabled]="userForm.invalid" 
        class="px-10 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 disabled:bg-gray-300 transition-all shadow-md">
        {{ isEditMode ? 'Update' : 'Save' }} Details
      </button>
    </div>
  </form>
</div>-->



<div class="max-w-6xl mx-auto p-6 bg-white rounded-xl shadow-lg border border-gray-100 overflow-y-auto max-h-[85vh]">
  <h2 class="text-2xl font-bold text-blue-700 mb-6 border-b pb-4">
    {{ isBranchForm ? 'Cavalier Branch Registration' : 'Cavalier User Registration' }}
  </h2>
  
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-6 text-sm">
    
    <div *ngIf="isBranchForm" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded">
        <div><label class="font-bold">Company Name*</label> <input formControlName="companyName" class="w-full border p-2 rounded"></div>
        <div><label>Company Alias</label> <input formControlName="companyAlias" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div><label class="font-bold">Branch Name*</label> <input formControlName="branchName" class="w-full border p-2 rounded"></div>
        <div><label class="font-bold">Branch Code*</label> <input formControlName="branchCode" class="w-full border p-2 rounded uppercase"></div>
        <div><label class="font-bold">Email*</label> <input formControlName="email" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div><label>City*</label> <input formControlName="city" class="w-full border p-2 rounded"></div>
        <div><label>State*</label> <input formControlName="state" class="w-full border p-2 rounded"></div>
        <div><label>Postal Code*</label> <input formControlName="postalCode" class="w-full border p-2 rounded"></div>
        <div><label>Contact No*</label> <input formControlName="contactNo" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-blue-50/30 p-4 rounded">
        <div><label class="font-bold">GST Category*</label> 
          <select formControlName="gstCategory" class="w-full border p-2 rounded">
            <option value="Regular">Regular</option>
            <option value="Composition">Composition</option>
          </select>
        </div>
        <div><label class="font-bold">GSTIN*</label> <input formControlName="gstin" class="w-full border p-2 rounded uppercase"></div>
      </div>

      <div><label>Full Address*</label> <textarea formControlName="address" class="w-full border p-2 rounded h-16"></textarea></div>
    </div>

    <div *ngIf="!isBranchForm" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 p-4 rounded">
        <div><label class="font-bold">Emp Code*</label> <input formControlName="empCode" class="w-full border p-2 rounded"></div>
        <div><label class="font-bold">First Name*</label> <input formControlName="firstName" class="w-full border p-2 rounded"></div>
        <div><label>Middle Name</label> <input formControlName="middleName" class="w-full border p-2 rounded"></div>
        <div><label class="font-bold">Last Name*</label> <input formControlName="lastName" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div><label>DOB*</label> <input type="date" formControlName="dob" class="w-full border p-2 rounded"></div>
        <div><label>Date of Joining</label> <input type="date" formControlName="dateOfJoining" class="w-full border p-2 rounded"></div>
        <div><label>Gender</label>
          <select formControlName="gender" class="w-full border p-2 rounded">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <!--<div><label>Country</label> <input formControlName="country" class="w-full border p-2 rounded"></div>-->
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-blue-50/10 p-4 rounded border border-blue-100">
        <div>
          <label>Department</label> 
          <select formControlName="department" class="w-full border p-2 rounded">
            <option value="">-- Select Department --</option>
            <option *ngFor="let dept of departments" [value]="dept">{{dept}}</option>
          </select>
        </div>

        <div>
          <label>Designation</label> 
          <select formControlName="designation" class="w-full border p-2 rounded">
            <option value="">-- Select Designation --</option>
            <option *ngFor="let des of designations" [value]="des">{{des}}</option>
          </select>
        </div>

        <div><label>Functional Area</label> <input formControlName="functionalArea" class="w-full border p-2 rounded"></div>
        
        <div class="space-y-1">
          <label class="font-semibold text-gray-600 block uppercase">User Type</label>
          <select formControlName="userType" class="w-full border p-2 rounded outline-none focus:border-[#4a3f3f] bg-white">
            <option value="" disabled selected>Select User Type</option>
            <option value="Train">Training</option>
            <option value="Perol">Payroll</option>
            <option value="Freelancing">Freelancing</option>
          </select>
        </div> 

        <div><label>Role ID</label> <input type="number" formControlName="roleId" class="w-full border p-2 rounded"></div>
        <div><label>Licence Type</label> <input formControlName="licenceType" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div><label>Email (Username)*</label> <input formControlName="email" class="w-full border p-2 rounded"></div>
        <div><label>Mobile*</label> <input formControlName="mobile" class="w-full border p-2 rounded"></div>
        <div><label>Telephone</label> <input formControlName="telephone" class="w-full border p-2 rounded"></div>
        <div><label>Monthly CTC</label> <input type="number" formControlName="ctc_Monthly" class="w-full border p-2 rounded"></div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-blue-50/30 p-4 rounded">
        <div><label class="font-bold">PAN No*</label> <input formControlName="paN_No" class="w-full border p-2 rounded uppercase"></div>
        <div><label class="font-bold">Aadhaar No*</label> <input formControlName="aadhaarNo" class="w-full border p-2 rounded"></div>
        <div><label>IP Address</label> <input formControlName="ipAdress" class="w-full border p-2 rounded"></div>
      </div>

      <div class="space-y-6 border-t pt-4">
        <h3 class="font-bold text-blue-600 underline">Residential & Office Address Details</h3>
        
        <div class="bg-gray-50 p-4 rounded border">
          <p class="font-bold mb-3 text-gray-700 italic text-[12px]">Present Residential Address:</p>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
            <div><label>House/Flat No</label> <input formControlName="presHouseNo" class="w-full border p-1 rounded"></div>
            <div><label>Building/Society Name</label> <input formControlName="presBuilding" class="w-full border p-1 rounded"></div>
            <div><label>Floor No</label> <input formControlName="presFloor" class="w-full border p-1 rounded"></div>
            <div><label>Block/Wing</label> <input formControlName="presBlock" class="w-full border p-1 rounded"></div>
            <div><label>Street/Lane</label> <input formControlName="presStreet" class="w-full border p-1 rounded"></div>
            <div><label>Landmark</label> <input formControlName="presLandmark" class="w-full border p-1 rounded text-blue-600 font-medium"></div>
            <div><label>Area/Sector</label> <input formControlName="presArea" class="w-full border p-1 rounded"></div>
            <div><label>City</label> <input formControlName="presCity" class="w-full border p-1 rounded"></div>
            <div><label>District</label> <input formControlName="presDistrict" class="w-full border p-1 rounded"></div>
            <div><label>State</label> <input formControlName="presState" class="w-full border p-1 rounded"></div>
            <div><label>Pincode</label> <input formControlName="presPincode" class="w-full border p-1 rounded"></div>
            <div><label>Country</label> <input formControlName="presCountry" class="w-full border p-1 rounded"></div>
          </div>
        </div>

        <div class="bg-blue-50/20 p-4 rounded border">
          <p class="font-bold mb-3 text-gray-700 italic text-[12px]">Permanent Residential Address:</p>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
            <div><label>House/Flat No</label> <input formControlName="permHouseNo" class="w-full border p-1 rounded"></div>
            <div><label>Building/Society Name</label> <input formControlName="permBuilding" class="w-full border p-1 rounded"></div>
            <div><label>Floor No</label> <input formControlName="permFloor" class="w-full border p-1 rounded"></div>
            <div><label>Block/Wing</label> <input formControlName="permBlock" class="w-full border p-1 rounded"></div>
            <div><label>Street/Lane</label> <input formControlName="permStreet" class="w-full border p-1 rounded"></div>
            <div><label>Landmark</label> <input formControlName="permLandmark" class="w-full border p-1 rounded text-blue-600 font-medium"></div>
            <div><label>Area/Sector</label> <input formControlName="permArea" class="w-full border p-1 rounded"></div>
            <div><label>City</label> <input formControlName="permCity" class="w-full border p-1 rounded"></div>
            <div><label>District</label> <input formControlName="permDistrict" class="w-full border p-1 rounded"></div>
            <div><label>State</label> <input formControlName="permState" class="w-full border p-1 rounded"></div>
            <div><label>Pincode</label> <input formControlName="permPincode" class="w-full border p-1 rounded"></div>
            <div><label>Country</label> <input formControlName="permCountry" class="w-full border p-1 rounded"></div>
          </div>
        </div>
      </div>

      <div class="border-t pt-4">
        <h3 class="font-bold text-gray-600 mb-2 underline">Education & Profile Media</h3>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
          <input formControlName="tenthYear" placeholder="10th Year" class="border p-2 rounded">
          <input formControlName="twelfthYear" placeholder="12th Year" class="border p-2 rounded">
          <input formControlName="graduationYear" placeholder="Graduation Year" class="border p-2 rounded">
          <input formControlName="postGraduationYear" placeholder="PG Year" class="border p-2 rounded">
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div><label>Profile Picture Path</label> <input formControlName="profilePicture" class="w-full border p-2 rounded" placeholder="path/to/photo.jpg"></div>
          <div><label>Signature Path</label> <input formControlName="signature" class="w-full border p-2 rounded" placeholder="path/to/sign.png"></div>
          <div><label>Profile Select</label> <input formControlName="profileSelect" class="w-full border p-2 rounded"></div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 border-t pt-4">
        <div><label>Report To (ID)</label> <input type="number" formControlName="reportTo" class="w-full border p-2 rounded"></div>
        <div><label>Emergency Contact Name</label> <input formControlName="emergencyName" class="w-full border p-2 rounded"></div>
        <div><label>Emergency Mobile</label> <input formControlName="emergencyContactNo" class="w-full border p-2 rounded"></div>
      </div>

      <div class="bg-gray-50 p-4 rounded border border-gray-200">
        <h3 class="font-bold text-gray-600 mb-3">System Permissions & Status</h3>
        <div class="flex flex-wrap gap-6">
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="mfaRegistration" class="w-4 h-4"> MFA Registration</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="fieldVisit" class="w-4 h-4"> Field Visit Allowed</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="alwaysBccmyself" class="w-4 h-4"> Always BCC Myself</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="invitationLetter" class="w-4 h-4"> Invitation Letter</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="simIssued" class="w-4 h-4"> SIM Issued</label>
          <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" formControlName="status" class="w-4 h-4 text-green-600"> Active Status</label>
        </div>
      </div>
    </div>

    <div class="flex justify-end gap-3 pt-6 border-t">
      <button type="button" (click)="onCancel()" class="px-6 py-2 border rounded hover:bg-gray-100 transition">Cancel</button>
      <button type="submit" [disabled]="userForm.invalid" 
        class="px-10 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 disabled:bg-gray-300 transition-all shadow-md">
        {{ isEditMode ? 'Update' : 'Save' }} Details
      </button>
    </div>
  </form>
</div>