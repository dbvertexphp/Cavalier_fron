<div class="min-h-screen w-full bg-[#F3F4F6] flex items-center justify-center font-sans p-4 md:p-6">
  <div
    class="relative bg-white shadow-2xl overflow-hidden flex flex-col lg:flex-row w-full max-w-[1200px] min-h-[550px] lg:h-[800px] rounded-[20px] lg:rounded-[40px]">

    <div
      class="welcome-card hidden lg:flex flex-col items-center justify-between text-white p-10 m-6 rounded-[30px] lg:w-[40%] relative overflow-hidden"
      style="background: linear-gradient(180deg, #5B5B63 0%, #8E736E 100%);">

      <div class="absolute inset-0 opacity-10 pointer-events-none"
        style="background-image: url('images/assets/background.jpg'); background-size: cover; background-repeat: no-repeat;">
      </div>

      <ng-container *ngFor="let slide of slides; let i = index">
        <div class="slide-item flex flex-col items-center justify-between h-full w-full relative z-10"
          [class.hidden]="i !== currentSlide">
          <div class="text-center mt-8">
            <h1 class="text-[32px] font-semibold mb-2 leading-tight">Welcome to Logistics</h1>
            <p class="text-gray-200 text-base opacity-90">Your Gateway to Effortless Management.</p>
          </div>

          <div class="w-full flex justify-center mb-4">
            <img src="images/assets/logo.png" alt="Logo" class="w-full max-w-[320px] h-auto object-contain">
          </div>

          <div class="text-center mb-8">
            <h2 class="text-xl font-medium mb-3">Seamless Collaboration</h2>
            <p class="text-gray-200 opacity-80 mb-6 max-w-xs mx-auto text-sm">
              Effortlessly work together with your team in real-time.
            </p>
            <div class="flex justify-center gap-3 mt-4">
              <span *ngFor="let dot of slides; let dotIndex = index" (click)="setSlide(dotIndex)"
                class="cursor-pointer transition-all duration-300 rounded-full"
                [ngClass]="{'w-8 h-2 bg-white': dotIndex === currentSlide,'w-2 h-2': dotIndex !== currentSlide}"
                [style.backgroundColor]="dotIndex !== currentSlide ? '#7289DA' : 'white'">
              </span>
            </div>
          </div>
        </div>
      </ng-container>
    </div>

    <div class="flex-1 lg:w-[60%] flex flex-col items-center justify-center p-6 lg:p-10 bg-white">
      <div class="w-full max-w-[380px] flex flex-col gap-5">

        <div class="w-full flex justify-center mb-2">
          <img src="images/assets/logo.png" alt="Logo" class="w-full max-w-[300px] h-auto object-contain">
        </div>

        <form *ngIf="!isStepTwo" [formGroup]="loginForm" (ngSubmit)="onNextStep()" class="flex flex-col gap-4">

          <div class="flex flex-col gap-1.5">
            <label class="text-sm font-semibold text-gray-600 ml-1">Email Id</label>
            <input type="email" formControlName="email" placeholder="Enter Email Id"
              class="border border-gray-200 rounded-xl px-5 h-13 outline-none focus:border-blue-500 focus:ring-4 focus:ring-sky-100 w-full text-base transition-all">
          </div>
          <div class="flex flex-col gap-1.5">
            <label class="text-sm font-semibold text-gray-600 ml-1">Password</label>

            <div class="relative w-full">
              <input [type]="isPasswordVisible ? 'text' : 'password'" formControlName="password"
                placeholder="Enter Password"
                class="border border-gray-200 rounded-xl px-5 h-13 outline-none focus:border-blue-500 focus:ring-4 focus:ring-sky-100 w-full text-base transition-all pr-12">

              <button type="button" (click)="isPasswordVisible = !isPasswordVisible"
                class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none">

                <svg *ngIf="!isPasswordVisible" xmlns="http://www.w3.org/2000/svg" class="center" width="18" height="18"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>

                <svg *ngIf="isPasswordVisible" xmlns="http://www.w3.org/2000/svg" class="center" width="18" height="18"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path
                    d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24">
                  </path>
                  <line x1="1" y1="1" x2="23" y2="23"></line>
                </svg>

              </button>
            </div>
          </div>
          <div class="flex flex-col gap-0.5 text-[11px] text-gray-500 ml-1">
            <p class="flex items-center gap-2"><span class="text-blue-500 font-bold">✓</span> Password Strength: <span
                class="font-medium text-gray-400">Weak</span></p>
            <p class="flex items-center gap-2"><span class="text-blue-500 font-bold">✓</span> At least 8 characters</p>
            <p class="flex items-center gap-2"><span class="text-blue-500 font-bold">✓</span> Contains a number or symbol</p>
            <p class="flex items-center gap-2"><span class="text-blue-500 font-bold">✓</span> Cannot Contain your name or email address</p>
          </div>

          <button type="submit"
            class="text-white font-bold h-13 rounded-xl transition-all w-full text-base mt-2 shadow-lg hover:brightness-110 active:scale-[0.98]"
            style="background: linear-gradient(90deg, #5B5B63 0%, #8E736E 100%);">
            Login
          </button>

          <div class="flex items-center justify-center w-full mt-3 gap-4">
            <hr class="w-full border-gray-200"><span class="text-[12px] text-gray-400 font-medium">OR</span>
            <hr class="w-full border-gray-200">
          </div>

          <div class="flex justify-between w-full gap-3">
            <button type="button" class="flex-1 h-11 border border-gray-200 rounded-xl flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" class="w-5 h-5"></button>
            <button type="button" class="flex-1 h-11 border border-gray-200 rounded-xl flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/apple/apple-original.svg" class="w-5 h-5"></button>
            <button type="button" class="flex-1 h-11 border border-gray-200 rounded-xl flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm"><img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" class="w-5 h-5"></button>
            <button type="button" class="flex-1 h-11 border border-gray-200 rounded-xl flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" class="w-5 h-5"></button>
          </div>

          <p class="text-[11px] text-center text-gray-400 mt-2">
            By signing up to create an account I accept Company's <br>
            <span class="font-bold text-gray-800 cursor-pointer hover:underline">Terms of use & Privacy Policyfdfd.</span>
          </p>
        </form>

        <form *ngIf="isStepTwo" [formGroup]="selectionForm" (ngSubmit)="onFinalSubmit()"
          class="flex flex-col gap-5 animate-fade-in">

          <div class="text-center mb-4">
            <h2 class="text-xl font-bold text-gray-800">Hi, {{ displayUserName }}!</h2>
            <p class="text-gray-500 text-xs mt-1">Choose your workspace details to continue</p>
          </div>

          <div class="flex flex-col gap-1.5">
            <label class="text-sm font-semibold text-gray-600 ml-1">System Role</label>
            <select formControlName="selectedRole" (change)="onRoleChange()"
              class="w-full border border-gray-200 rounded-xl px-5 h-13 outline-none focus:border-blue-500 transition-all text-sm">
              <option value="" disabled>-- Select Role --</option>
              <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
            </select>
          </div>

          <p class="text-base font-semibold text-[#8E736E] mt-1">{{ displayCompanyName }}</p>

          <div *ngIf="!selectionForm.get('selectedRole')?.value || selectionForm.get('selectedRole')?.value !== 'System Administrator'"
            class="flex flex-col gap-1.5 animate-fade-in">
            <label class="text-sm font-semibold text-gray-600 ml-1">Select Branch</label>
            <select formControlName="selectedCity"
              class="w-full border border-gray-200 rounded-xl px-5 h-13 outline-none focus:border-blue-500 transition-all text-sm">
              <option value="" disabled>-- Select Branch --</option>
              <option *ngFor="let branch of branches" [value]="branch.branchName">{{ branch.branchName | uppercase }}</option>
            </select>
          </div>

          <button type="submit"
            class="text-white font-bold h-13 rounded-xl w-full text-base mt-2 shadow-lg hover:brightness-110 active:scale-[0.98]"
            style="background: linear-gradient(90deg, #5B5B63 0%, #8E736E 100%);">
            Submit
          </button>
          <button type="button" (click)="isStepTwo = false"
            class="text-center text-xs text-blue-500 font-medium hover:underline">
            Back to Login
          </button>
        </form>
      </div>
    </div>
  </div>
</div>